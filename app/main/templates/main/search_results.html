{% extends "main/base.html" %}

{% block title %}Search Results - FindMe{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto;">
    <div style="margin-bottom: 2rem;">
        <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem;">Search Results</h1>
        <p style="color: var(--text-secondary); font-size: 1.1rem;">
            Found {{ results|length }} result(s) for "{{ query }}"
        </p>
    </div>

    {% if results %}
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;">
        {% for person in results %}
        <div style="background-color: var(--bg-secondary); border-radius: 12px; overflow: hidden; border: 1px solid var(--border-color); transition: var(--transition); cursor: pointer;" onclick="window.location.href='{{ url_for('main.person_detail', person_id=person.id) }}'">
            {% if person.photos.first() %}
            <img src="{{ url_for('static', filename='uploads/' + person.photos.first().filename) }}" alt="{{ person.full_name }}" style="width: 100%; height: 250px; object-fit: cover;">
            {% else %}
            <div style="width: 100%; height: 250px; background-color: var(--bg-tertiary); display: flex; align-items: center; justify-content: center; color: var(--text-muted); font-size: 3rem;">
                <i class="fas fa-user"></i>
            </div>
            {% endif %}
            <div style="padding: 1.5rem;">
                <h3 style="font-size: 1.3rem; font-weight: 700; margin-bottom: 0.5rem; color: var(--text-primary);">{{ person.full_name }}</h3>
                <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1rem;">
                    {% if person.age %}
                    <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-secondary); font-size: 0.95rem;">
                        <i class="fas fa-birthday-cake" style="color: var(--accent-primary); width: 20px;"></i>
                        <span>{{ person.age }} years old</span>
                    </div>
                    {% endif %}
                    <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-secondary); font-size: 0.95rem;">
                        <i class="fas fa-map-marker-alt" style="color: var(--accent-primary); width: 20px;"></i>
                        <span>{{ person.last_seen_location }}</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-secondary); font-size: 0.95rem;">
                        <i class="fas fa-calendar" style="color: var(--accent-primary); width: 20px;"></i>
                        <span>{{ person.last_seen_date.strftime('%b %d, %Y') }}</span>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                    <span style="padding: 0.4rem 0.8rem; border-radius: 6px; font-size: 0.85rem; font-weight: 600; background-color: var(--warning);">{{ person.status.value|upper }}</span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div style="text-align: center; padding: 4rem 2rem; color: var(--text-secondary);">
        <i class="fas fa-search" style="font-size: 4rem; margin-bottom: 1rem; color: var(--text-muted);"></i>
        <h3 style="font-size: 1.5rem; margin-bottom: 0.5rem; color: var(--text-primary);">No Results Found</h3>
        <p>Try searching with different keywords or <a href="{{ url_for('main.browse') }}" style="color: var(--accent-primary);">browse all cases</a></p>
    </div>
    {% endif %}

    <div style="margin-top: 2rem; text-align: center;">
        <a href="{{ url_for('main.browse') }}" style="padding: 1rem 2rem; background-color: var(--accent-primary); color: var(--text-primary); text-decoration: none; border-radius: 6px; display: inline-flex; align-items: center; gap: 0.5rem; font-weight: 600;">
            <i class="fas fa-th"></i> Browse All Cases
        </a>
    </div>
</div>
{% endblock %}
